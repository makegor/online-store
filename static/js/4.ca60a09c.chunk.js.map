{"version":3,"sources":["components/common/FormControls/FormControls.module.css","components/utils/validators/validators.js","components/common/FormControls/FormControls.jsx","components/Content/Product/Product.module.css","redux/product-selectors.js","components/Content/Product/Reviews/Reviews.jsx","components/Content/Product/Reviews/ReviewsContainer.jsx","components/Content/Product/ProductPage.jsx","components/Content/Product/ProductContainer.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","props","child","hasError","touched","error","className","styles","formControl","children","formControl__span","Textarea","restProps","Input","getState","state","getProduct","createSelector","Product","product","getIsFetching","isFetching","getReviews","reviews","Reviews","React","memo","addReviews","console","log","rewiersElement","reverse","map","p","rewiers","rating","Array","star","i","ratingValue","rating__body","rating__active","rating__activeNot","rating__items","type","rating__item","name","message","id","AddReviewsFromRedux","onSubmit","values","maxLength100","reduxForm","form","useState","setRating","hover","setHover","handleSubmit","Field","component","placeholder","validate","onClick","onMouseOver","onMouseOut","button","ReviewsContainer","connect","dispatch","ProductPage","product__full","product__fullPhoto","alt","src","photo","items","title","price","description","Object","keys","key","descriptionTitle","descriptiontValue","Description","ProductContainer","this","match","params","namber","setProduct","window","scrollTo","Component","compose","withRouter"],"mappings":"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","file":"static/js/4.ca60a09c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__15npX\",\"error\":\"FormControls_error__1UcGW\",\"formControl__span\":\"FormControls_formControl__span__2XV5H\",\"formSummaryError\":\"FormControls_formSummaryError__2oFJm\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) \r\n    return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\nexport const FormControl = ({ input, meta, child, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.formControl__span}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product__full\":\"Product_product__full__297U-\",\"product__fullPhoto\":\"Product_product__fullPhoto__px2jQ\",\"items\":\"Product_items__2HyQr\",\"title\":\"Product_title__2CLK9\",\"price\":\"Product_price__1ZLfj\",\"description\":\"Product_description__1VIu3\",\"Textarea\":\"Product_Textarea__1yyHe\",\"button\":\"Product_button__2BQDx\",\"rewiers\":\"Product_rewiers__3Ol51\",\"rewiersElement\":\"Product_rewiersElement__LHjmr\",\"rating\":\"Product_rating__GJPNG\",\"rating__body\":\"Product_rating__body__MjXOM\",\"rating__activeNot\":\"Product_rating__activeNot__2wxII\",\"rating__active\":\"Product_rating__active__1siiA\",\"rating__items\":\"Product_rating__items__2ZG-0\",\"rating__item\":\"Product_rating__item__1_IW7\"};","import { createSelector } from \"reselect\"\r\n\r\nconst getState = (state) => {\r\n    return state\r\n}\r\n\r\nexport const getProduct = createSelector(getState, (state) => {\r\n    return state.Product.product\r\n});\r\n\r\nexport const getIsFetching = createSelector(getState, (state) => {\r\n    return state.Product.isFetching\r\n});\r\n\r\nexport const getReviews = createSelector(getState, (state) => {\r\n    return state.Product.reviews\r\n});","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { required, maxLengthCreator } from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../../common/FormControls/FormControls\";\r\nimport styles from \"../Product.module.css\";\r\n\r\nlet Reviews = React.memo(({reviews, addReviews}) => {\r\nconsole.log(reviews)\r\n    let rewiersElement = [...reviews].reverse().map(p =>\r\n        <div className={styles.rewiers} key={p.id}>\r\n            <div className={styles.rating}>\r\n                {\r\n                    [...Array(5)].map((star, i) => {\r\n                        const ratingValue = i + 1;\r\n                        const rating = p.rating;\r\n                        return (\r\n                            <div className={styles.rating__body} key={i}>\r\n                                <div className={(ratingValue <= rating) ? styles.rating__active : styles.rating__activeNot} >\r\n                                    <div className={styles.rating__items}>\r\n                                        <input type=\"radio\"\r\n                                            className={styles.rating__item}\r\n                                            value={ratingValue} name=\"rating\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div key={p.id} className={styles.reviews}> - {p.message}</div>\r\n        </div>);\r\n\r\n    let add = (values) => {\r\n        addReviews(values);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddReviewsFromRedux onSubmit={add} />\r\n            <div className={styles.rewiersElement}>\r\n                {rewiersElement}\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n})\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst AddReviewsFrom = (props) => {\r\n    const [rating, setRating] = React.useState(null);\r\n    const [hover, setHover] = React.useState(null);\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}> \r\n            <Field className={styles.Textarea} component={Textarea} placeholder={\"Add a review...\"}\r\n                name={\"NewPostText\"} validate={[required, maxLength100]} />\r\n            <div className={styles.rating} >\r\n                {\r\n                    [...Array(5)].map((star, i) => {\r\n                        const ratingValue = i + 1;\r\n                        return (\r\n                            <div className={styles.rating__body} key={i}>\r\n                                <div className={(ratingValue <= (hover || rating)) ? styles.rating__active : styles.rating__activeNot} >\r\n                                    <div className={styles.rating__items}>\r\n                                        <Field component=\"input\"\r\n                                            type=\"radio\"\r\n                                            validate={[required]}\r\n                                            className={styles.rating__item}\r\n                                            value={ratingValue} name=\"rating\"\r\n                                            onClick={() => setRating(ratingValue)}\r\n                                            onMouseOver={() => setHover(ratingValue)}\r\n                                            onMouseOut={() => setHover(null)} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <button className={styles.button}>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddReviewsFromRedux = reduxForm({ form: \"ReviewsAddNewPostForm\" })(AddReviewsFrom)\r\n\r\n\r\nexport default Reviews;","import { connect } from \"react-redux\";\r\n\r\nimport { addReviews } from \"../../../../redux/product-reducer\";\r\nimport { getReviews } from \"../../../../redux/product-selectors\";\r\n\r\nimport Reviews from './Reviews';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        reviews: getReviews(state),\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addReviews : (values) => {\r\n            dispatch(addReviews(values));\r\n        }\r\n    }\r\n}\r\n\r\nconst ReviewsContainer = connect(mapStateToProps, mapDispatchToProps)(Reviews);\r\n\r\nexport default ReviewsContainer;","import React from \"react\";\r\nimport styles from \"./Product.module.css\";\r\nimport ReviewsContainer from \"./Reviews/ReviewsContainer\";\r\n\r\nlet ProductPage = React.memo(({product}) => {\r\n    return (\r\n        <div className={styles.product__full}>\r\n            <div className={styles.product__fullPhoto}>\r\n                <img alt=\"\" src={product.photo != null ? product.photo : null} />\r\n            </div>\r\n\r\n            <div className={styles.items}>\r\n                <div className={styles.title}>{product.title}</div>\r\n                <div className={styles.price}>{product.price} $</div>\r\n                <div className={styles.description}>\r\n                    {Object.keys(product.description).map(key => {\r\n                        return <Description key={key} descriptionTitle={key} descriptiontValue={product.description[key]} />\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <ReviewsContainer />\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\nconst Description = ({ descriptionTitle, descriptiontValue }) => {\r\n    return <div className={styles.description}><b>{descriptionTitle}</b>: {descriptiontValue}</div>\r\n}\r\n\r\nexport default ProductPage;","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { setProduct } from \"../../../redux/product-reducer\";\r\nimport { getIsFetching, getProduct } from \"../../../redux/product-selectors\";\r\n\r\nimport Preloader from \"../../common/preloader/preloader\";\r\nimport ProductPage from \"./ProductPage\";\r\n\r\nclass ProductContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let id = this.props.match.params.namber;\r\n        this.props.setProduct(id);\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.isFetching ? <Preloader /> :\r\n                    <ProductPage {...this.props} product={this.props.product} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        product: getProduct(state),\r\n        isFetching: getIsFetching(state)\r\n    }\r\n}\r\n\r\nexport default ProductContainer = compose(\r\n    connect(mapStateToProps, { setProduct }),\r\n    withRouter\r\n)(ProductContainer);"],"sourceRoot":""}