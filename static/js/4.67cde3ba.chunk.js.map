{"version":3,"sources":["redux/basket-selectors.ts","assecs/images/Basket/list-is-empty.png","components/Basket/BagIsEmpty/BasketIsEmpty.tsx","components/Basket/BagIsFull/BasketElement.tsx","assecs/images/Basket/qr-code.png","components/Basket/BagIsFull/BasketPopup.tsx","components/Basket/BagIsFull/BasketTotal.tsx","components/Basket/BagIsFull/BasketIsFull.tsx","components/Basket/Basket.tsx","components/Basket/Basket.module.scss"],"names":["getState","state","Basket","getBasketProduct","createSelector","basket","filter","product","summ","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getPopup","popup","getOrderNumber","orderNumber","getIsAuth","isAuth","BasketIsEmpty","React","memo","className","styles","basket__none","basket__titleNone","alt","src","list_empty","to","basket__signIn","BasketElement","id","title","photo","price","dispatch","useDispatch","useSelector","basket__product","description","photo__product","btn__deleteProduct","disabled","some","Id","onClick","deleteProduct","price__product","price__productTotal","BasketPopup","buyProductSuccess","addLeadingZero","d","days","cn","active","popup__body","e","stopPropagation","popup__content","popup__contentDate","t","Date","YYYY","getFullYear","MM","getMonth","DD","getDate","dd","getDay","hh","getHours","mm","getMinutes","ss","getSeconds","getTime","reduce","totalProduct","totalPrice","qrCode","BasketTotal","buyProduct","basket__total","textTotal","price__total","BasketIsFull","basket__page","basket__title","map","b","useEffect","setBasket","window","scrollTo","length","basketPaid","module","exports"],"mappings":"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","file":"static/js/4.67cde3ba.chunk.js","sourcesContent":["import { createSelector } from \"reselect\"\r\nimport { RootState } from \"./store\"\r\n\r\nconst getState = (state: RootState) => {\r\n    return state.Basket\r\n}\r\n\r\nexport const getBasketProduct = createSelector(getState, (Basket) => {\r\n    return Basket.basket.filter(product => product.summ > 0 )\r\n})\r\n\r\nexport const getIsFetching = createSelector(getState, (Basket) => {\r\n    return Basket.isFetching\r\n})\r\n\r\nexport const getFollowingInProgress = createSelector(getState, (Basket) => {\r\n    return Basket.followingInProgress\r\n})\r\n\r\nexport const getPopup = createSelector(getState, (Basket) => {\r\n    return Basket.popup\r\n})\r\n\r\nexport const getOrderNumber = createSelector(getState, (Basket) => {\r\n    return Basket.orderNumber\r\n})\r\n\r\nexport const getIsAuth = createSelector(getState, (Basket) => {\r\n    return Basket.isAuth\r\n})","export default __webpack_public_path__ + \"static/media/list-is-empty.64ba2de0.png\";","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport styles from \"../Basket.module.scss\"\r\nimport list_empty from \"../../../assecs/images/Basket/list-is-empty.png\"\r\n\r\ninterface BasketIsEmpty{\r\n    isAuth: boolean\r\n}\r\n\r\nconst BasketIsEmpty: React.FC<BasketIsEmpty> = React.memo(({isAuth}) => {\r\n    return (\r\n        <div className={styles.basket__none}>\r\n            <h1 className={styles.basket__titleNone}>Your bag is empty</h1>\r\n            <img alt=\"\" src={list_empty} />\r\n            {!isAuth\r\n                ? <Link to={'/login/signin'} className={styles.basket__signIn}>SIGN IN</Link>\r\n                : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketIsEmpty","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { deleteProduct } from \"../../../redux/content-reducer\"\r\nimport { getFollowingInProgress } from \"../../../redux/content-selectors\"\r\n\r\nimport styles from \"../Basket.module.scss\"\r\n\r\ninterface BasketElement {\r\n    id: string\r\n    title: string\r\n    photo: string\r\n    price: number\r\n    summ: number\r\n}\r\n\r\nlet BasketElement: React.FC<BasketElement> = React.memo(({ id, title, photo, price, summ }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.basket__product}>\r\n                <div className={styles.description}>\r\n                <Link to={'/product/' + id}>{title}</Link></div>\r\n                <div className={styles.photo__product}>\r\n                    <img alt=\"\" src={photo} />\r\n                </div>\r\n                <button className={styles.btn__deleteProduct} disabled={followingInProgress.some(Id => Id === id)} onClick={() => { dispatch(deleteProduct(id)) }}>Delete âŠ—</button>\r\n                <div className={styles.price__product}>\r\n                    <span>{summ}^ {price} $</span>\r\n                    <div className={styles.price__productTotal}>\r\n                        <div>{price * summ} $</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketElement","export default __webpack_public_path__ + \"static/media/qr-code.e042934f.png\";","import React from 'react'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport cn from \"classnames\"\r\nimport styles from \"../Basket.module.scss\"\r\nimport { PreloaderBasket } from '../../common/preloader/preloader'\r\nimport qrCode from \"../../../assecs/images/Basket/qr-code.png\"\r\n\r\ninterface BasketPopup{\r\n    basket: Array<ProductType>\r\n    orderNumber: number | null\r\n    popup: boolean\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketPopup: React.FC<BasketPopup> = React.memo(({ basket, orderNumber, popup, buyProductSuccess }) => {\r\n\r\n    const addLeadingZero = (d: number) => {\r\n        return (d < 10) ? '0' + d : d\r\n    }\r\n\r\n    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\n    const getTime = (t = new Date()) => {\r\n        const YYYY = t.getFullYear()\r\n        const MM = addLeadingZero(t.getMonth())\r\n        const DD = addLeadingZero(t.getDate())\r\n        const dd = days[t.getDay()]\r\n        const hh = addLeadingZero(t.getHours())\r\n        const mm = addLeadingZero(t.getMinutes())\r\n        const ss = addLeadingZero(t.getSeconds())\r\n        return `${dd} ${DD}-${MM}-${YYYY} ${hh}:${mm}:${ss}`\r\n    } \r\n\r\n    return (\r\n        <div className={cn({ [styles.popup]: popup === true }, styles.active)} onClick={() => buyProductSuccess()}>\r\n            <div className={styles.popup__body} onClick={e => e.stopPropagation()}>\r\n                {!orderNumber\r\n                    ? <PreloaderBasket />\r\n                    : <div className={styles.popup__content}>\r\n                        <div>PAID</div>\r\n                        <div>Order number: {orderNumber}</div>\r\n                        <div className={styles.popup__contentDate}>{getTime()}</div>\r\n                        <div>Total products: {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}</div>\r\n                        <div>Order price: {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $</div>\r\n                        <img alt=\"\" src={qrCode} />\r\n                        <div>Thank you for your purchase!</div>\r\n                        <div>Attention! The product cannot be exchanged or returned.</div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketPopup","import React from 'react'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport styles from \"../Basket.module.scss\"\r\n\r\ninterface BasketTotal{\r\n    basket: Array<ProductType>\r\n    followingInProgress: boolean\r\n    buyProduct: (basket: Array<ProductType>) => void\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketTotal: React.FC<BasketTotal> = React.memo(({ basket, followingInProgress, buyProduct, buyProductSuccess }) => {\r\n\r\n    return (\r\n        <div className={styles.basket__total}>\r\n            <button disabled={followingInProgress} onClick={(e) => buyProductSuccess()}>Empty trash</button>\r\n            <div className={styles.textTotal}>\r\n                Order price:\r\n                <div className={styles.price__total}>\r\n                    {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $\r\n                </div>\r\n                <div>Total products:</div>\r\n                <div className={styles.price__total}>\r\n                    {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}\r\n                </div>\r\n            </div>\r\n            <button disabled={followingInProgress} onClick={(e) => { buyProduct(basket) }}>BUY</button>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketTotal","import React from 'react'\r\nimport BasketElement from './BasketElement'\r\nimport BasketPopup from './BasketPopup'\r\nimport BasketTotal from './BasketTotal'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport styles from \"../Basket.module.scss\"\r\n\r\ninterface BasketIsFull{\r\n    basket: Array<ProductType>\r\n    popup: boolean\r\n    followingInProgress: boolean\r\n    orderNumber: number | null\r\n    buyProduct: (basket: Array<ProductType>) => void\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketIsFull: React.FC<BasketIsFull> = React.memo(({ basket, popup, followingInProgress, orderNumber, buyProduct, buyProductSuccess }) => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.basket__page}>\r\n                <h1 className={styles.basket__title}>MY BAG</h1>\r\n                <div className={styles.basket}>\r\n                    {basket.map(b =>\r\n                        <BasketElement key={b.id}\r\n                            id={b.id}\r\n                            title={b.title}\r\n                            photo={b.photo}\r\n                            price={b.price}\r\n                            summ={b.summ}\r\n                        />\r\n                    )\r\n                    }\r\n                    <BasketTotal basket={basket}\r\n                        followingInProgress={followingInProgress}\r\n                        buyProduct={buyProduct}\r\n                        buyProductSuccess={buyProductSuccess} />\r\n                </div>\r\n            </div>\r\n            {popup === true\r\n                ? <BasketPopup\r\n                    basket={basket}\r\n                    orderNumber={orderNumber}\r\n                    popup={popup}\r\n                    buyProductSuccess={buyProductSuccess}\r\n                />\r\n                : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketIsFull","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { buyProduct, buyProductSuccess, setBasket } from \"../../redux/basket-reducer\"\r\nimport { getBasketProduct, getFollowingInProgress, getIsFetching, getOrderNumber, getPopup, getIsAuth } from \"../../redux/basket-selectors\"\r\nimport Preloader from '../common/preloader/preloader'\r\nimport BasketIsEmpty from './BagIsEmpty/BasketIsEmpty'\r\nimport BasketIsFull from './BagIsFull/BasketIsFull'\r\n\r\nconst Basket = () => {\r\n\r\n    const basket = useSelector(getBasketProduct)\r\n    const popup = useSelector(getPopup)\r\n    const orderNumber = useSelector(getOrderNumber)\r\n    const isFetching = useSelector(getIsFetching)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n    const isAuth = useSelector(getIsAuth)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(setBasket())\r\n        window.scrollTo(0, 0)\r\n    }, [basket.length])\r\n\r\n    return (\r\n        <div>\r\n            {isFetching ? <Preloader /> :\r\n                <div>\r\n                    {basket.length === 0\r\n                        ? <BasketIsEmpty isAuth={isAuth} />\r\n                        : <BasketIsFull\r\n                            basket={basket}\r\n                            popup={popup}\r\n                            orderNumber={orderNumber}\r\n                            followingInProgress={followingInProgress}\r\n                            buyProduct={(basketPaid) => dispatch(buyProduct(basketPaid))}\r\n                            buyProductSuccess={() => dispatch(buyProductSuccess())}\r\n                        />\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basket__none\":\"Basket_basket__none__2_WqU\",\"basket__titleNone\":\"Basket_basket__titleNone__2RHk0\",\"basket__signIn\":\"Basket_basket__signIn__1S3LR\",\"basket__page\":\"Basket_basket__page__1DuzX\",\"basket__title\":\"Basket_basket__title__Fr1Uf\",\"basket\":\"Basket_basket__25RdF\",\"basket__product\":\"Basket_basket__product__3ZWaF\",\"description\":\"Basket_description__nAt9v\",\"photo__product\":\"Basket_photo__product__1tByg\",\"btn__deleteProduct\":\"Basket_btn__deleteProduct__1c7iB\",\"price__product\":\"Basket_price__product__3QhMf\",\"price__productTotal\":\"Basket_price__productTotal__2oqZZ\",\"basket__total\":\"Basket_basket__total__3XKSO\",\"textTotal\":\"Basket_textTotal__PTmOE\",\"price__total\":\"Basket_price__total__2QzHo\",\"popup\":\"Basket_popup__2CqTn\",\"active\":\"Basket_active__1sO9T\",\"popup__body\":\"Basket_popup__body__2y5Ck\",\"popup__content\":\"Basket_popup__content__1GcMf\",\"popup__contentDate\":\"Basket_popup__contentDate__3CW2m\"};"],"sourceRoot":""}