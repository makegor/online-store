{"version":3,"sources":["redux/basket-selectors.ts","assecs/images/Basket/list-is-empty.png","components/Basket/BagIsEmpty/BasketIsEmpty.tsx","components/Basket/BagIsFull/BasketElement.tsx","assecs/images/Basket/qr-code.png","components/Basket/BagIsFull/BasketPopup.tsx","components/Basket/BagIsFull/BasketTotal.tsx","components/Basket/BagIsFull/BasketIsFull.tsx","components/Basket/Basket.tsx","components/Basket/Basket.module.css"],"names":["getState","state","Basket","getBasketProduct","createSelector","basket","filter","product","summ","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getPopup","popup","getOrderNumber","orderNumber","getIsAuth","isAuth","BasketIsEmpty","React","memo","className","styles","basket__none","basket__titleNone","alt","src","list_empty","to","basket__signIn","BasketElement","id","title","photo","price","basket__product","description","link__product","price__product","price__productTotal","BasketPopup","buyProductSuccess","addLeadingZero","d","days","cn","active","onClick","popup__body","e","stopPropagation","popup__content","popup__contentDate","t","Date","YYYY","getFullYear","MM","getMonth","DD","getDate","dd","getDay","hh","getHours","mm","getMinutes","ss","getSeconds","getTime","reduce","totalProduct","totalPrice","qrCode","BasketTotal","buyProduct","basket__total","disabled","textTotal","price__total","BasketIsFull","basket__page","basket__title","map","b","useSelector","dispatch","useDispatch","useEffect","setBasket","window","scrollTo","length","basketPaid","module","exports"],"mappings":"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","file":"static/js/4.50061914.chunk.js","sourcesContent":["import { createSelector } from \"reselect\"\r\nimport { RootState } from \"./store\"\r\n\r\nconst getState = (state: RootState) => {\r\n    return state.Basket\r\n}\r\n\r\nexport const getBasketProduct = createSelector(getState, (Basket) => {\r\n    return Basket.basket.filter(product => product.summ > 0 )\r\n})\r\n\r\nexport const getIsFetching = createSelector(getState, (Basket) => {\r\n    return Basket.isFetching\r\n})\r\n\r\nexport const getFollowingInProgress = createSelector(getState, (Basket) => {\r\n    return Basket.followingInProgress\r\n})\r\n\r\nexport const getPopup = createSelector(getState, (Basket) => {\r\n    return Basket.popup\r\n})\r\n\r\nexport const getOrderNumber = createSelector(getState, (Basket) => {\r\n    return Basket.orderNumber\r\n})\r\n\r\nexport const getIsAuth = createSelector(getState, (Basket) => {\r\n    return Basket.isAuth\r\n})","export default __webpack_public_path__ + \"static/media/list-is-empty.64ba2de0.png\";","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport styles from \"../Basket.module.css\"\r\nimport list_empty from \"../../../assecs/images/Basket/list-is-empty.png\"\r\n\r\ninterface BasketIsEmpty{\r\n    isAuth: boolean\r\n}\r\n\r\nconst BasketIsEmpty: React.FC<BasketIsEmpty> = React.memo(({isAuth}) => {\r\n    return (\r\n        <div className={styles.basket__none}>\r\n            <h1 className={styles.basket__titleNone}>Your bag is empty</h1>\r\n            <img alt=\"\" src={list_empty} />\r\n            {!isAuth\r\n                ? <Link to={'/login/signin'} className={styles.basket__signIn}>SIGN IN</Link>\r\n                : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketIsEmpty","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport styles from \"../Basket.module.css\"\r\n\r\ninterface BasketElement{\r\n    id: string\r\n    title: string\r\n    photo: string\r\n    price: number\r\n    summ: number\r\n}\r\n\r\nlet BasketElement: React.FC<BasketElement> = React.memo(({id, title, photo, price, summ}) => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.basket__product}>\r\n                <div className={styles.description}>{title}</div>\r\n                <Link to={'/product/' + id} className={styles.link__product}>\r\n                    <img alt=\"\" src={photo} />\r\n                </Link>\r\n                <div className={styles.price__product}>\r\n                    <span>{price} $</span>\r\n                    <div className={styles.price__productTotal}>\r\n                        <div> ^{summ} = {price * summ} $</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketElement","export default __webpack_public_path__ + \"static/media/qr-code.e042934f.png\";","import React from 'react'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport cn from \"classnames\"\r\nimport styles from \"../Basket.module.css\"\r\nimport { PreloaderBasket } from '../../common/preloader/preloader'\r\nimport qrCode from \"../../../assecs/images/Basket/qr-code.png\"\r\n\r\ninterface BasketPopup{\r\n    basket: Array<ProductType>\r\n    orderNumber: number | null\r\n    popup: boolean\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketPopup: React.FC<BasketPopup> = React.memo(({ basket, orderNumber, popup, buyProductSuccess }) => {\r\n\r\n    const addLeadingZero = (d: number) => {\r\n        return (d < 10) ? '0' + d : d\r\n    }\r\n\r\n    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\n    const getTime = (t = new Date()) => {\r\n        const YYYY = t.getFullYear()\r\n        const MM = addLeadingZero(t.getMonth())\r\n        const DD = addLeadingZero(t.getDate())\r\n        const dd = days[t.getDay()]\r\n        const hh = addLeadingZero(t.getHours())\r\n        const mm = addLeadingZero(t.getMinutes())\r\n        const ss = addLeadingZero(t.getSeconds())\r\n        return `${dd} ${DD}-${MM}-${YYYY} ${hh}:${mm}:${ss}`\r\n    } \r\n\r\n    return (\r\n        <div className={cn({ [styles.popup]: popup === true }, styles.active)} onClick={() => buyProductSuccess()}>\r\n            <div className={styles.popup__body} onClick={e => e.stopPropagation()}>\r\n                {!orderNumber\r\n                    ? <PreloaderBasket />\r\n                    : <div className={styles.popup__content}>\r\n                        <div>PAID</div>\r\n                        <div>Order number: {orderNumber}</div>\r\n                        <div className={styles.popup__contentDate}>{getTime()}</div>\r\n                        <div>Total products: {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}</div>\r\n                        <div>Order price: {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $</div>\r\n                        <img alt=\"\" src={qrCode} />\r\n                        <div>Thank you for your purchase!</div>\r\n                        <div>Attention! The product cannot be exchanged or returned.</div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketPopup","import React from 'react'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport styles from \"../Basket.module.css\"\r\n\r\ninterface BasketTotal{\r\n    basket: Array<ProductType>\r\n    followingInProgress: boolean\r\n    buyProduct: (basket: Array<ProductType>) => void\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketTotal: React.FC<BasketTotal> = React.memo(({ basket, followingInProgress, buyProduct, buyProductSuccess }) => {\r\n\r\n    return (\r\n        <div className={styles.basket__total}>\r\n            <button disabled={followingInProgress} onClick={(e) => buyProductSuccess()}>Empty trash</button>\r\n            <div className={styles.textTotal}>\r\n                Order price:\r\n                <div className={styles.price__total}>\r\n                    {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $\r\n                </div>\r\n                <div>Total products:</div>\r\n                <div className={styles.price__total}>\r\n                    {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}\r\n                </div>\r\n            </div>\r\n            <button disabled={followingInProgress} onClick={(e) => { buyProduct(basket) }}>BUY</button>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketTotal","import React from 'react'\r\nimport BasketElement from './BasketElement'\r\nimport BasketPopup from './BasketPopup'\r\nimport BasketTotal from './BasketTotal'\r\nimport { ProductType } from '../../../types/types'\r\n\r\nimport styles from \"../Basket.module.css\"\r\n\r\ninterface BasketIsFull{\r\n    basket: Array<ProductType>\r\n    popup: boolean\r\n    followingInProgress: boolean\r\n    orderNumber: number | null\r\n    buyProduct: (basket: Array<ProductType>) => void\r\n    buyProductSuccess: () => void\r\n}\r\n\r\nconst BasketIsFull: React.FC<BasketIsFull> = React.memo(({ basket, popup, followingInProgress, orderNumber, buyProduct, buyProductSuccess }) => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.basket__page}>\r\n                <h1 className={styles.basket__title}>MY BAG</h1>\r\n                <div className={styles.basket}>\r\n                    {basket.map(b =>\r\n                        <BasketElement key={b.id}\r\n                            id={b.id}\r\n                            title={b.title}\r\n                            photo={b.photo}\r\n                            price={b.price}\r\n                            summ={b.summ}\r\n                        />\r\n                    )\r\n                    }\r\n                    <BasketTotal basket={basket}\r\n                        followingInProgress={followingInProgress}\r\n                        buyProduct={buyProduct}\r\n                        buyProductSuccess={buyProductSuccess} />\r\n                </div>\r\n            </div>\r\n            {popup === true\r\n                ? <BasketPopup\r\n                    basket={basket}\r\n                    orderNumber={orderNumber}\r\n                    popup={popup}\r\n                    buyProductSuccess={buyProductSuccess}\r\n                />\r\n                : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default BasketIsFull","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { buyProduct, buyProductSuccess, setBasket } from \"../../redux/basket-reducer\"\r\nimport { getBasketProduct, getFollowingInProgress, getIsFetching, getOrderNumber, getPopup, getIsAuth } from \"../../redux/basket-selectors\"\r\nimport Preloader from '../common/preloader/preloader'\r\nimport BasketIsEmpty from './BagIsEmpty/BasketIsEmpty'\r\nimport BasketIsFull from './BagIsFull/BasketIsFull'\r\n\r\nconst Basket = () => {\r\n\r\n    const basket = useSelector(getBasketProduct)\r\n    const popup = useSelector(getPopup)\r\n    const orderNumber = useSelector(getOrderNumber)\r\n    const isFetching = useSelector(getIsFetching)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n    const isAuth = useSelector(getIsAuth)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(setBasket())\r\n        window.scrollTo(0, 0)\r\n    }, [basket.length])\r\n\r\n    return (\r\n        <div>\r\n            {isFetching ? <Preloader /> :\r\n                <div>\r\n                    {basket.length === 0\r\n                        ? <BasketIsEmpty isAuth={isAuth} />\r\n                        : <BasketIsFull\r\n                            basket={basket}\r\n                            popup={popup}\r\n                            orderNumber={orderNumber}\r\n                            followingInProgress={followingInProgress}\r\n                            buyProduct={(basketPaid) => dispatch(buyProduct(basketPaid))}\r\n                            buyProductSuccess={() => dispatch(buyProductSuccess())}\r\n                        />\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basket__none\":\"Basket_basket__none__1xwdS\",\"basket__titleNone\":\"Basket_basket__titleNone__3ukhA\",\"basket__signIn\":\"Basket_basket__signIn__2Wi-2\",\"basket__page\":\"Basket_basket__page__1jOJ9\",\"basket__title\":\"Basket_basket__title__3q6pj\",\"basket__total\":\"Basket_basket__total__CKJ2R\",\"textTotal\":\"Basket_textTotal__VwjL1\",\"price__total\":\"Basket_price__total__27lwQ\",\"basket\":\"Basket_basket__35jF8\",\"basket__product\":\"Basket_basket__product__38Zkc\",\"description\":\"Basket_description__3l7Se\",\"link__product\":\"Basket_link__product__aUgGw\",\"price__product\":\"Basket_price__product__2A3KH\",\"price__productTotal\":\"Basket_price__productTotal__3RgPu\",\"popup\":\"Basket_popup__1Oqds\",\"active\":\"Basket_active__bhJzG\",\"popup__body\":\"Basket_popup__body__3Xfeq\",\"popup__content\":\"Basket_popup__content__GLKWg\",\"popup__contentDate\":\"Basket_popup__contentDate__6zfN5\"};"],"sourceRoot":""}