{"version":3,"sources":["redux/product-selectors.ts","components/Content/Product/Reviews/Reviews.tsx","components/Content/Product/ProductPage.tsx","components/Content/Product/Product.tsx","components/Content/Product/Product.module.scss"],"names":["getState","state","Product","getProduct","createSelector","product","getIsFetching","isFetching","getReviews","reviews","Reviews","useSelector","dispatch","useDispatch","useForm","mode","register","formState","errors","isValid","handleSubmit","reset","rewiersElement","reverse","map","p","className","styles","rewiers","rating","Array","star","i","ratingValue","rating__body","rating__active","rating__activeNot","rating__items","type","rating__item","value","name","review","id","React","useState","setRating","hover","setHover","Rewiers","onSubmit","data","addReviews","Textarea","placeholder","required","minLength","message","maxLength","message__error","onClick","onMouseOver","onMouseOut","min","button","disabled","ProductPage","memo","title","price","description","photo","summ","added","followingInProgress","getFollowingInProgress","product__full","product__fullPhoto","alt","src","product__info","items","Object","keys","key","Description","descriptionTitle","descriptiontValue","btn","button__func","some","Id","minusProduct","plusProduct","deleteProduct","addProduct","useParams","namber","useEffect","setProduct","window","scrollTo","sex","module","exports"],"mappings":"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","file":"static/js/5.ac60f6a9.chunk.js","sourcesContent":["import { createSelector } from \"reselect\"\r\nimport { RootState } from \"./store\"\r\n\r\nconst getState = (state: RootState) => {\r\n    return state.Product\r\n}\r\n\r\nexport const getProduct = createSelector(getState, (Product) => {\r\n    return Product.product\r\n})\r\n\r\nexport const getIsFetching = createSelector(getState, (Product) => {\r\n    return Product.isFetching\r\n})\r\n\r\nexport const getReviews = createSelector(getState, (Product) => {\r\n    return Product.reviews\r\n})","import React from 'react'\r\nimport { ReviewsType } from \"../../../../types/types\"\r\nimport { addReviews } from \"../../../../redux/product-reducer\"\r\nimport { getReviews } from \"../../../../redux/product-selectors\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useForm, SubmitHandler } from 'react-hook-form'\r\n\r\nimport styles from \"../Product.module.scss\"\r\n\r\nconst Reviews = () => {\r\n\r\n    const reviews = useSelector(getReviews)\r\n    const dispatch = useDispatch()\r\n\r\n    const {\r\n        register,\r\n        formState: {\r\n            errors, isValid\r\n        },\r\n        handleSubmit,\r\n        reset\r\n    } = useForm<ReviewsType>({\r\n        mode: \"all\"\r\n    })\r\n\r\n    const onSubmit: SubmitHandler<ReviewsType> = (data) => {\r\n        dispatch(addReviews(data))\r\n        reset()\r\n        setRating(0)\r\n    }\r\n\r\n    const rewiersElement = [...reviews].reverse().map(p =>\r\n        <div className={styles.rewiers} key={p.id}>\r\n            <div className={styles.rating}>\r\n                {\r\n                    [...Array(5)].map((star, i) => {\r\n                        const ratingValue = i + 1\r\n                        const rating = p.rating\r\n                        return (\r\n                            <div className={styles.rating__body} key={i}>\r\n                                <div className={(ratingValue <= rating) ? styles.rating__active : styles.rating__activeNot} >\r\n                                    <div className={styles.rating__items}>\r\n                                        <input type=\"radio\"\r\n                                            className={styles.rating__item}\r\n                                            value={ratingValue} name=\"rating\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <p key={p.id}>{p.review}</p>\r\n        </div>)\r\n\r\n    const [rating, setRating] = React.useState<number>(0)\r\n    const [hover, setHover] = React.useState<number>(0)\r\n\r\n    return (\r\n        <div className={styles.Rewiers}>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <textarea\r\n                    className={styles.Textarea}\r\n                    placeholder=\"just do it\"\r\n                    {...register('review', {\r\n                        required: \"Required field\",\r\n                        minLength: {\r\n                            value: 15,\r\n                            message: \"And it's all? Minimum 15\"\r\n                        },\r\n                        maxLength: {\r\n                            value: 250,\r\n                            message: \"Take it easy. Maximum 250\"\r\n                        }\r\n                    })}\r\n                />\r\n                {errors?.review && <div className={styles.message__error}>{errors?.review?.message || \"Error!\"}</div>}\r\n                <div className={styles.rating} >\r\n                    {\r\n                        [...Array(5)].map((star, i) => {\r\n                            const ratingValue = i + 1\r\n                            return (\r\n                                <div className={styles.rating__body} key={i}>\r\n                                    <div className={(ratingValue <= (hover || rating)) ? styles.rating__active : styles.rating__activeNot} >\r\n                                        <div className={styles.rating__items}>\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                className={styles.rating__item}\r\n                                                value={ratingValue}\r\n                                                onClick={() => setRating(ratingValue)}\r\n                                                onMouseOver={() => setHover(ratingValue)}\r\n                                                onMouseOut={() => setHover(0)}\r\n                                                {...register('rating', {\r\n                                                    required: \"Required field\",\r\n                                                    min: {\r\n                                                        value: 1,\r\n                                                        message: \"Минимум 1 символов\"\r\n                                                    }\r\n                                                })}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {errors?.rating?.message && <div className={styles.message__error}>{errors?.rating?.message || \"Required field !\"}</div>}\r\n                <button className={styles.button} disabled={!isValid}>Send review ⇓</button>\r\n            </form>\r\n            <div className={styles.rewiersElement}>\r\n                {rewiersElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reviews","import React from \"react\"\r\nimport { ProductType, DescriptionType } from \"../../../types/types\"\r\nimport Reviews from \"./Reviews/Reviews\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { addProduct, deleteProduct, plusProduct, minusProduct } from \"../../../redux/content-reducer\"\r\nimport { getFollowingInProgress } from \"../../../redux/content-selectors\"\r\n\r\nimport styles from \"./Product.module.scss\"\r\n\r\nconst ProductPage: React.FC<ProductType> = React.memo(({ title, price, description, photo, summ, added, id }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n    \r\n    return (\r\n        <div className={styles.product__full}>\r\n            <div className={styles.product__fullPhoto}>\r\n                <img alt=\"\" src={photo != null ? photo : \"https://cdn3.iconfinder.com/data/icons/autumn-season-32/64/Overcoat_clother_clothing_jacket_winter-512.png\"} />\r\n            </div>\r\n            <div className={styles.product__info}>\r\n                <div className={styles.items}>\r\n                    <div className={styles.title}>{title}</div>\r\n                    <div className={styles.price}>{price} $</div>\r\n                    <div className={styles.description}>\r\n                        {Object.keys(description).map(key => {\r\n                            return <Description key={key} descriptionTitle={key} descriptiontValue={description[key as keyof DescriptionType]} />\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className={styles.btn}>\r\n                    {!added\r\n                        ? <button disabled={followingInProgress.some(Id => Id === id)} onClick={() => { dispatch(addProduct(id)) }}>Add to bag</button>\r\n                        : <div className={styles.button__func}>\r\n                            <button disabled={followingInProgress.some(Id => Id === id)} onClick={() => { dispatch(minusProduct(id)) }}>-</button>\r\n                            <div className={styles.summ}>{summ}</div>\r\n                            <button disabled={followingInProgress.some(Id => Id === id)} onClick={() => { dispatch(plusProduct(id)) }}>+</button>\r\n                            <button disabled={followingInProgress.some(Id => Id === id)} onClick={() => { dispatch(deleteProduct(id)) }}>Delete</button>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Reviews />\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\ninterface Description {\r\n    descriptionTitle: string\r\n    descriptiontValue: string\r\n}\r\n\r\nconst Description: React.FC<Description> = React.memo(({ descriptionTitle, descriptiontValue }) => {\r\n    return <div className={styles.description}><b>{descriptionTitle}</b>: {descriptiontValue}</div>\r\n})\r\n\r\nexport default ProductPage","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { setProduct } from \"../../../redux/product-reducer\"\r\nimport { getIsFetching, getProduct } from \"../../../redux/product-selectors\"\r\nimport ProductPage from \"./ProductPage\"\r\nimport Preloader from \"../../common/preloader/preloader\"\r\n\r\nconst Product = () => {\r\n\r\n    const isFetching = useSelector(getIsFetching)\r\n    const product = useSelector(getProduct)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const id = useParams().namber\r\n\r\n    useEffect(() => {\r\n        dispatch(setProduct(id))\r\n        window.scrollTo(0, 0)\r\n    }, [product.id])\r\n\r\n    return (\r\n        <div>\r\n            {isFetching ? <Preloader />\r\n                : < ProductPage\r\n                    title={product.title}\r\n                    price={product.price}\r\n                    description={product.description}\r\n                    photo={product.photo}\r\n\r\n                    id={product.id}\r\n                    sex={product.sex}\r\n                    summ={product.summ}\r\n                    added={product.added}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product__full\":\"Product_product__full__1-mzK\",\"Rewiers\":\"Product_Rewiers__-EVEu\",\"button\":\"Product_button__9nTUC\",\"btn\":\"Product_btn__2s2o7\",\"product__fullPhoto\":\"Product_product__fullPhoto__nL9Uu\",\"product__info\":\"Product_product__info__2aKFQ\",\"items\":\"Product_items__AtIq2\",\"title\":\"Product_title__1TmQm\",\"price\":\"Product_price__2rWS7\",\"description\":\"Product_description__29Xpq\",\"button__func\":\"Product_button__func__2I6br\",\"summ\":\"Product_summ__2d4LG\",\"Textarea\":\"Product_Textarea__DeZ1u\",\"rating\":\"Product_rating__1opt5\",\"rating__body\":\"Product_rating__body__3eRbE\",\"rating__activeNot\":\"Product_rating__activeNot__3-CcW\",\"rating__active\":\"Product_rating__active__2uHQy\",\"rating__items\":\"Product_rating__items__PIEvR\",\"rating__item\":\"Product_rating__item__3s6Yh\",\"message__error\":\"Product_message__error__2xO6-\",\"rewiersElement\":\"Product_rewiersElement__3Snks\",\"rewiers\":\"Product_rewiers__2UFMl\"};"],"sourceRoot":""}