{"version":3,"sources":["components/Basket/Basket.module.css","redux/basket-selectors.js","assecs/images/list-is-empty.png","assecs/images/qr-code.png","components/Basket/Basket.jsx","components/Basket/BasketContainer.jsx"],"names":["module","exports","getState","state","getBasketProduct","createSelector","Basket","basket","filter","product","summ","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getPopup","popup","getOrderNumber","orderNumber","getIsAuth","isAuth","React","memo","buyProduct","buyProductSuccess","length","className","styles","basket__none","basket__titleNone","alt","src","list_empty","to","basket__signIn","basket__page","basket__title","map","b","basket__product","description","title","id","link__product","photo","price__product","price","price__productTotal","basket__total","disabled","onClick","e","textTotal","price__total","reduce","totalPrice","totalProduct","cn","active","popup__body","stopPropagation","popup__content","popup__contentDate","qrCode","BasketContainer","this","props","setBasket","window","scrollTo","prevProps","Component","compose","connect","withRouter"],"mappings":"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","file":"static/js/6.503e9a65.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"basket__none\":\"Basket_basket__none__1xwdS\",\"basket__titleNone\":\"Basket_basket__titleNone__3ukhA\",\"basket__signIn\":\"Basket_basket__signIn__2Wi-2\",\"basket__page\":\"Basket_basket__page__1jOJ9\",\"basket__title\":\"Basket_basket__title__3q6pj\",\"basket__total\":\"Basket_basket__total__CKJ2R\",\"textTotal\":\"Basket_textTotal__VwjL1\",\"price__total\":\"Basket_price__total__27lwQ\",\"basket\":\"Basket_basket__35jF8\",\"basket__product\":\"Basket_basket__product__38Zkc\",\"description\":\"Basket_description__3l7Se\",\"link__product\":\"Basket_link__product__aUgGw\",\"price__product\":\"Basket_price__product__2A3KH\",\"price__productTotal\":\"Basket_price__productTotal__3RgPu\",\"popup\":\"Basket_popup__1Oqds\",\"active\":\"Basket_active__bhJzG\",\"popup__body\":\"Basket_popup__body__3Xfeq\",\"popup__content\":\"Basket_popup__content__GLKWg\",\"popup__contentDate\":\"Basket_popup__contentDate__6zfN5\"};","import { createSelector } from \"reselect\"\r\n\r\nconst getState = (state) => {\r\n    return state\r\n}\r\n\r\nexport const getBasketProduct = createSelector(getState, (state) => {\r\n    return state.Basket.basket.filter(product => product.summ > 0 );\r\n});\r\n\r\nexport const getIsFetching = createSelector(getState, (state) => {\r\n    return state.Basket.isFetching\r\n});\r\n\r\nexport const getFollowingInProgress = createSelector(getState, (state) => {\r\n    return state.Basket.followingInProgress\r\n});\r\n\r\nexport const getPopup = createSelector(getState, (state) => {\r\n    return state.Basket.popup\r\n});\r\n\r\nexport const getOrderNumber = createSelector(getState, (state) => {\r\n    return state.Basket.orderNumber\r\n});\r\n\r\nexport const getIsAuth = createSelector(getState, (state) => {\r\n    return state.Basket.isAuth\r\n});\r\n\r\n","export default __webpack_public_path__ + \"static/media/list-is-empty.64ba2de0.png\";","export default __webpack_public_path__ + \"static/media/qr-code.e042934f.png\";","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\n\r\nimport styles from \"./Basket.module.css\";\r\nimport { PreloaderBasket } from \"../common/preloader/preloader\";\r\nimport list_empty from \"../../assecs/images/list-is-empty.png\";\r\nimport qrCode from \"../../assecs/images/qr-code.png\";\r\n\r\nlet Basket = React.memo(({ basket, isAuth, popup, orderNumber, buyProduct, buyProductSuccess, followingInProgress }) => {\r\n    return (\r\n        <div>\r\n            {basket.length === 0\r\n                ? <div className={styles.basket__none}>\r\n                    <h1 className={styles.basket__titleNone}>Your bag is empty</h1>\r\n                    <img alt=\"\" src={list_empty} />\r\n                    {!isAuth\r\n                        ? <NavLink to={'/login/signin'} className={styles.basket__signIn}>SIGN IN</NavLink>\r\n                        : <div></div>\r\n                    }\r\n                </div>\r\n\r\n                : <div className={styles.basket__page}>\r\n                    <h1 className={styles.basket__title}>MY BAG</h1>\r\n                    <div className={styles.basket}>\r\n                        {\r\n                            basket.map(b =>\r\n                                <div className={styles.basket__product} key={b.id}>\r\n                                    <div className={styles.description}>{b.title}</div>\r\n                                    <NavLink to={'/product/' + b.id} className={styles.link__product}>\r\n                                        <img alt=\"\" src={b.photo} />\r\n                                    </NavLink>\r\n                                    <div className={styles.price__product}>\r\n                                        <span>{b.price} $</span>\r\n                                        <div className={styles.price__productTotal}>\r\n                                            <div> ^{b.summ} = {b.price * b.summ} $</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n\r\n                    <div className={styles.basket__total}>\r\n                        <button disabled={followingInProgress} onClick={(e) => buyProductSuccess()}>Empty trash</button>\r\n                        <div className={styles.textTotal}>\r\n                            Order price:\r\n                            <div className={styles.price__total}>\r\n                                {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $\r\n                            </div>\r\n                            <div>Total products:</div>\r\n                            <div className={styles.price__total}>\r\n                                {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}\r\n                            </div>\r\n                        </div>\r\n                        <button disabled={followingInProgress} onClick={(e) => { buyProduct(basket) }}>BUY</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {popup === true\r\n                ? <div className={cn({ [styles.popup]: popup === true }, styles.active)} onClick={() => buyProductSuccess()}>\r\n                    <div className={styles.popup__body} onClick={e => e.stopPropagation()}>\r\n                        {!orderNumber\r\n                            ? <PreloaderBasket />\r\n                            : <div className={styles.popup__content}>\r\n                                <div>PAID</div>\r\n                                <div>Order number: {orderNumber}</div>\r\n                                <div className={styles.popup__contentDate}>27-11-2021 18:52:30</div>\r\n                                <div>Total products: {basket.reduce((totalProduct, product) => { return totalProduct + 1 * product.summ }, 0)}</div>\r\n                                <div>Order price: {basket.reduce((totalPrice, product) => { return totalPrice + product.price * product.summ }, 0)} $</div>\r\n                                <img alt=\"\" src={qrCode} />\r\n                                <div>Thank you for your purchase!</div>\r\n                                <div>Attention! The product cannot be exchanged or returned.</div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Basket;","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { buyProduct, buyProductSuccess, setBasket } from \"../../redux/basket-reducer\";\r\nimport { getBasketProduct, getFollowingInProgress, getIsFetching, getOrderNumber, getPopup, getIsAuth } from \"../../redux/basket-selectors\";\r\nimport Basket from './Basket';\r\nimport Preloader from '../common/preloader/preloader';\r\n\r\nclass BasketContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setBasket();\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.basket.length === 0) {\r\n            window.scrollTo(0, 0);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.isFetching ? <Preloader /> :\r\n                    <Basket\r\n                        basket={this.props.basket}\r\n                        popup={this.props.popup}\r\n                        orderNumber={this.props.orderNumber}\r\n                        buyProduct={this.props.buyProduct}\r\n                        buyProductSuccess={this.props.buyProductSuccess}\r\n                        followingInProgress={this.props.followingInProgress}\r\n                        isAuth={this.props.isAuth}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        basket: getBasketProduct(state),\r\n        popup: getPopup(state),\r\n        orderNumber: getOrderNumber(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n}\r\n\r\nexport default BasketContainer = compose(\r\n    connect(mapStateToProps, { buyProduct, buyProductSuccess, setBasket }),\r\n    withRouter\r\n)(BasketContainer);"],"sourceRoot":""}